<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤–å›½äººå‘ã‘æ±‚äººå¿œå‹Ÿãƒ•ã‚©ãƒ¼ãƒ  - Foreigner Job Application Form</title>
    <!-- Interãƒ•ã‚©ãƒ³ãƒˆã¨Tailwind CSSã‚’èª­ã¿è¾¼ã‚€ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        .section-header {
            border-left: 4px solid #3b82f6;
            padding-left: 1rem;
        }
        .input-group label {
            font-weight: 600;
            display: block;
            margin-bottom: 0.5rem;
        }
        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            transition: all 0.2s;
            box-sizing: border-box; /* paddingã‚’å«ã‚ã¦å¹…ã‚’è¨ˆç®— */
        }
        .input-group input:focus, .input-group select:focus, .input-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
        }
        .language-switcher button {
            transition: transform 0.2s;
            /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å°ã•ãã—ã¦ãƒœã‚¿ãƒ³ã®ã‚µã‚¤ã‚ºã‚’èª¿æ•´ */
            padding: 0.5rem 1rem;
        }
        .language-switcher button:hover {
            transform: translateY(-2px);
        }
        .language-switcher button.active {
            border: 2px solid #3b82f6;
            background-color: #dbeafe;
        }
        .file-upload-section {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        @media (max-width: 640px) {
            .file-upload-section {
                grid-template-columns: 1fr;
            }
        }
        .file-upload-item {
            border: 2px dashed #9ca3af;
            border-radius: 0.5rem;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .file-upload-item:hover {
            background-color: #e5e7eb;
            border-color: #6b7280;
        }
        .file-upload-item input[type="file"] {
            display: none;
        }
        .file-upload-item.selected {
            background-color: #dcfce7;
            border-color: #10b981;
        }
        .submit-button {
            transition: background-color 0.2s, transform 0.2s;
        }
        .submit-button:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        .furigana-label {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .furigana {
            font-size: 0.75rem;
            color: #6b7280;
            margin-bottom: -0.25rem;
            line-height: 1;
        }
        .work-history-entry {
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            position: relative;
        }
        .remove-work-history-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container">
        <!-- è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
        <div class="language-switcher flex justify-end flex-wrap gap-2 mb-8">
            <button class="px-4 py-2 bg-white rounded-full shadow-md active" data-lang="ja">æ—¥æœ¬èª</button>
            <button class="px-4 py-2 bg-white rounded-full shadow-md" data-lang="en">English</button>
        </div>

        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold mb-2" data-i18n="formTitle"></h1>
            <p class="text-gray-600" data-i18n="formSubtitle"></p>
            <p class="text-sm text-red-500 mt-4 font-semibold" data-i18n="inputNote"></p>
        </header>

        <!--  
            â†“â†“â†“ ã“ã“ã‹ã‚‰ãƒ•ã‚©ãƒ¼ãƒ  â†“â†“â†“
            action="YOUR_FORMSPREE_ENDPOINT" ã®éƒ¨åˆ†ã‚’ã€å¾Œã»ã©å–å¾—ã™ã‚‹è‡ªåˆ†ã®Formspreeã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚
        -->
        <form id="job-application-form" action="https://formspree.io/f/xpwjzebp" method="POST" enctype="multipart/form-data" class="space-y-8 p-6 bg-white rounded-lg shadow-xl">

            <!-- 1. åŸºæœ¬æƒ…å ± -->
            <section>
                <h2 class="text-2xl font-bold section-header mb-6" data-i18n="section1Title"></h2>
                <div class="space-y-4">
                    <div class="input-group">
                        <label for="name" data-i18n="nameLabel" class="furigana-label"></label>
                        <input type="text" id="name" name="åå‰" required placeholder="å±±ç”° å¤ªéƒ">
                    </div>
                    
                    <div class="input-group">
                        <label for="gmail" data-i18n="gmailLabel" class="furigana-label"></label>
                        <input type="email" id="gmail" name="Gmailã‚¢ãƒ‰ãƒ¬ã‚¹" placeholder="example@gmail.com">
                    </div>

                    <div class="input-group">
                        <label for="nationality" data-i18n="nationalityLabel" class="furigana-label"></label>
                        <select id="nationality" name="å›½ç±" required>
                            <option value="" disabled selected data-i18n="selectOption"></option>
                            <option value="ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢" data-i18n="nationalityIndonesia"></option>
                            <option value="ã‚«ãƒ³ãƒœã‚¸ã‚¢" data-i18n="nationalityCambodia"></option>
                            <option value="ãƒ™ãƒˆãƒŠãƒ " data-i18n="nationalityVietnam"></option>
                            <option value="ãƒŸãƒ£ãƒ³ãƒãƒ¼" data-i18n="nationalityMyanmar"></option>
                            <option value="ãƒãƒ‘ãƒ¼ãƒ«" data-i18n="nationalityNepal"></option>
                            <option value="ãã®ä»–" data-i18n="nationalityOther"></option>
                        </select>
                        <input type="text" id="nationality-other-input" name="å›½ç±ï¼ˆãã®ä»–ï¼‰" class="mt-2 hidden" placeholder="å›½ç±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
                    </div>

                    <div class="input-group">
                        <label for="contact-method" data-i18n="contactLabel" class="furigana-label"></label>
                        <select id="contact-method" name="é€£çµ¡æ–¹æ³•" class="mb-2" required>
                            <option value="" disabled selected data-i18n="selectOption"></option>
                            <option value="LINE ID">LINE ID</option>
                            <option value="WhatsApp">WhatsApp</option>
                            <option value="Messenger">Messenger</option>
                        </select>
                        <input type="text" id="contact-info" name="é€£çµ¡å…ˆæƒ…å ±" required placeholder="ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå ã¾ãŸã¯ ID">
                    </div>

                    <div class="input-group">
                        <label for="dob" data-i18n="dobLabel" class="furigana-label"></label>
                        <input type="date" id="dob" name="ç”Ÿå¹´æœˆæ—¥" required>
                    </div>

                    <div class="input-group">
                        <label data-i18n="genderLabel" class="furigana-label"></label>
                        <div class="flex gap-4">
                            <div class="inline-flex items-center">
                                <input type="radio" id="genderMale" name="æ€§åˆ¥" value="ç”·" class="form-radio" required>
                                <label for="genderMale" class="ml-2" data-i18n="genderMale"></label>
                            </div>
                            <div class="inline-flex items-center">
                                <input type="radio" id="genderFemale" name="æ€§åˆ¥" value="å¥³" class="form-radio" required>
                                <label for="genderFemale" class="ml-2" data-i18n="genderFemale"></label>
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label data-i18n="maritalStatusLabel" class="furigana-label"></label>
                        <div class="flex gap-4">
                            <div class="inline-flex items-center">
                                <input type="radio" id="maritalStatusYes" name="é…å¶è€…ã®æœ‰ç„¡" value="ã‚ã‚Š" class="form-radio" required>
                                <label for="maritalStatusYes" class="ml-2" data-i18n="statusYes"></label>
                            </div>
                            <div class="inline-flex items-center">
                                <input type="radio" id="maritalStatusNo" name="é…å¶è€…ã®æœ‰ç„¡" value="ãªã—" class="form-radio" required>
                                <label for="maritalStatusNo" class="ml-2" data-i18n="statusNo"></label>
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label data-i18n="familyInJapanLabel" class="furigana-label"></label>
                        <div class="flex gap-4">
                            <div class="inline-flex items-center">
                                <input type="radio" id="familyInJapanYes" name="æ—¥æœ¬ã«å®¶æ—ãƒ»è¦ªæ—ãŒã„ã‚‹ã‹" value="ã‚ã‚Š" class="form-radio" required>
                                <label for="familyInJapanYes" class="ml-2" data-i18n="statusYes"></label>
                            </div>
                            <div class="inline-flex items-center">
                                <input type="radio" id="familyInJapanNo" name="æ—¥æœ¬ã«å®¶æ—ãƒ»è¦ªæ—ãŒã„ã‚‹ã‹" value="ãªã—" class="form-radio" required>
                                <label for="familyInJapanNo" class="ml-2" data-i18n="statusNo"></label>
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="native-address" data-i18n="nativeAddressLabel" class="furigana-label"></label>
                        <textarea id="native-address" name="æ¯å›½ã®ä½æ‰€" rows="3" required></textarea>
                    </div>

                    <div class="input-group">
                        <label for="current-address" data-i18n="currentAddressLabel" class="furigana-label"></label>
                        <textarea id="current-address" name="ç¾åœ¨ã®ä½æ‰€" rows="3" required></textarea>
                    </div>
                </div>
            </section>

            <!-- 2. è·å‹™çµŒæ­´ãƒ»å¸Œæœ›æ¡ä»¶ -->
            <section>
                <h2 class="text-2xl font-bold section-header mb-6" data-i18n="section2Title"></h2>
                
                <h3 class="text-xl font-semibold mb-2" data-i18n="workHistoryTitle"></h3>
                <p class="text-sm text-gray-500 mb-4" data-i18n="workHistoryNote"></p>
                <div id="work-history-container" class="space-y-4">
                    <!-- Work history entries will be added here by JavaScript -->
                </div>
                <button type="button" id="add-work-history-btn" class="mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200" data-i18n="addWorkHistory"></button>

                <div class="input-group mt-8">
                    <label for="desired-job" data-i18n="desiredJobLabel" class="furigana-label"></label>
                    <select id="desired-job" name="å¸Œæœ›è·ç¨®" required>
                        <option value="" disabled selected data-i18n="selectOption"></option>
                        <option value="ä»‹è­·æ¥­" data-i18n="jobCaregiving"></option>
                        <option value="ãƒ“ãƒ«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ¥­" data-i18n="jobBuildingCleaning"></option>
                        <option value="å·¥æ¥­è£½å“è£½é€ æ¥­" data-i18n="jobIndustrialProduct"></option>
                        <option value="å»ºè¨­æ¥­" data-i18n="jobConstruction"></option>
                        <option value="é€ èˆ¹ãƒ»èˆ¶ç”¨å·¥æ¥­" data-i18n="jobShipbuilding"></option>
                        <option value="è‡ªå‹•è»Šæ•´å‚™æ¥­" data-i18n="jobAutomotive"></option>
                        <option value="èˆªç©ºæ¥­" data-i18n="jobAviation"></option>
                        <option value="å®¿æ³Šæ¥­" data-i18n="jobHospitality"></option>
                        <option value="è¾²æ¥­" data-i18n="jobAgriculture"></option>
                        <option value="æ¼æ¥­" data-i18n="jobFisheries"></option>
                        <option value="é£²é£Ÿæ–™å“è£½é€ æ¥­" data-i18n="jobFoodManufacturing"></option>
                        <option value="å¤–é£Ÿæ¥­" data-i18n="jobFoodService"></option>
                        <option value="æ—æ¥­" data-i18n="jobForestry"></option>
                        <option value="æœ¨æç”£æ¥­" data-i18n="jobWood"></option>
                        <option value="è‡ªå‹•è»Šé‹é€æ¥­" data-i18n="jobAutomotiveTransport"></option>
                        <option value="é‰„é“" data-i18n="jobRailway"></option>
                    </select>
                </div>

                <div class="input-group mt-4">
                    <label for="desired-start" data-i18n="desiredStartLabel" class="furigana-label"></label>
                    <select id="desired-start" name="å¸Œæœ›é–‹å§‹æ™‚æœŸ" required>
                        <option value="" disabled selected data-i18n="selectOption"></option>
                        <!-- Options will be generated by JavaScript -->
                    </select>
                </div>
            </section>

            <!-- 3. æ·»ä»˜æ›¸é¡ -->
            <section>
                <h2 class="text-2xl font-bold section-header mb-6" data-i18n="section3Title"></h2>
                <p class="text-sm text-gray-500 mb-2" data-i18n="documentNote"></p>
                <p class="text-sm text-gray-500 mb-6 p-4 bg-gray-50 rounded-lg" data-i18n="documentDetails"></p>
                <p class="text-sm text-gray-500 mb-6" data-i18n="docOtherNote"></p>

                <div class="file-upload-section">
                    <div class="file-upload-item" data-file-for="photo">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="photo" accept="image/*">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docPhoto"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="passport">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="passport" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docPassport"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                     <div class="file-upload-item" data-file-for="residenceCard">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="residence_card" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docResidenceCard"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="resume">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="resume" accept=".pdf,.doc,.docx">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docResume"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="tokuteiGino">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="tokutei_gino_certificate" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docTokuteiGino"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="medical">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="medical_certificate" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docMedical"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="gensenChoshu">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="tax_slip" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docGensenChoshu"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="other1">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="other_document_1" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docOther1"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="other2">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="other_document_2" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docOther2"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                    <div class="file-upload-item" data-file-for="other3">
                        <label class="cursor-pointer block h-full">
                            <input type="file" name="other_document_3" accept="image/*,.pdf">
                            <div class="text-gray-500 text-lg">ğŸ“</div>
                            <span class="block mt-1" data-i18n="docOther3"></span>
                            <span class="block text-xs text-gray-400 file-status" data-i18n="fileStatusUnselected"></span>
                        </label>
                    </div>
                </div>
            </section>
            
            <div class="flex justify-center mt-8">
                <button type="submit" class="submit-button bg-blue-500 text-white font-bold py-3 px-12 rounded-full shadow-lg">
                    <span data-i18n="submitButton"></span>
                </button>
            </div>
        </form>

    </div>

    <!-- Template for Work History -->
    <template id="work-history-template">
        <div class="work-history-entry space-y-4">
            <div class="flex justify-end">
                <button type="button" class="text-red-500 hover:text-red-700 remove-work-history-btn">å‰Šé™¤ï¼ˆã•ãã˜ã‚‡ï¼‰</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="input-group">
                    <label class="furigana-label"><span class="furigana">ã«ã‚…ã†ã—ã‚ƒã³</span><span>å…¥ç¤¾æ—¥</span></label>
                    <input type="date" name="start_date">
                </div>
                <div class="input-group">
                    <label class="furigana-label"><span class="furigana">ãŸã„ã—ã‚ƒã³</span><span>é€€ç¤¾æ—¥</span></label>
                    <input type="date" name="end_date">
                </div>
            </div>
            <div class="input-group">
                <label class="furigana-label"><span class="furigana">ã‹ã„ã—ã‚ƒã‚ã„</span><span>ä¼šç¤¾å</span></label>
                <input type="text" name="company_name" placeholder="æ ªå¼ä¼šç¤¾ã€‡ã€‡">
            </div>
            <div class="input-group">
                <label class="furigana-label"><span class="furigana">ã—ã”ã¨ãªã„ã‚ˆã†</span><span>ä»•äº‹å†…å®¹</span></label>
                <textarea name="job_description" rows="3" placeholder="è¨˜å…¥ä¾‹ï¼šå»ºè¨­æ¥­ï¼ˆæŠ€èƒ½å®Ÿç¿’ç”Ÿï¼‰"></textarea>
            </div>
        </div>
    </template>

    <script>
        // è¨€èªã”ã¨ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
        const langContent = {
            ja: {
                formTitle: "å¤–å›½äººå‘ï¼ˆãŒã„ã“ãã˜ã‚“ã‚€ï¼‰ã‘æ±‚äººå¿œå‹Ÿï¼ˆãã‚…ã†ã˜ã‚“ãŠã†ã¼ï¼‰ãƒ•ã‚©ãƒ¼ãƒ ",
                formSubtitle: "æ—¥æœ¬ï¼ˆã«ã»ã‚“ï¼‰ã§ã®å°±è·ï¼ˆã—ã‚…ã†ã—ã‚‡ãï¼‰ã‚’å¸Œæœ›ï¼ˆãã¼ã†ï¼‰ã•ã‚Œã‚‹æ–¹ï¼ˆã‹ãŸï¼‰ã®ãŸã‚ã®ãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚",
                inputNote: "â€»è¨˜å…¥ï¼ˆãã«ã‚…ã†ï¼‰ã™ã‚‹å†…å®¹ï¼ˆãªã„ã‚ˆã†ï¼‰ã¯ã€å¯èƒ½ï¼ˆã‹ã®ã†ï¼‰ã§ã‚ã‚Œã°æ—¥æœ¬èªï¼ˆã«ã»ã‚“ã”ï¼‰ã§ã€é›£ï¼ˆã‚€ãšã‹ï¼‰ã—ã„å ´åˆï¼ˆã°ã‚ã„ï¼‰ã¯æ¯å›½èªï¼ˆã¼ã“ãã”ï¼‰ã¾ãŸã¯ãƒ­ãƒ¼ãƒå­—ï¼ˆã˜ï¼‰ã§ã‚‚å¤§ä¸ˆå¤«ï¼ˆã ã„ã˜ã‚‡ã†ã¶ï¼‰ã§ã™ã€‚",
                section1Title: "ï¼‘ï¼åŸºæœ¬æƒ…å ±ï¼ˆãã»ã‚“ã˜ã‚‡ã†ã»ã†ï¼‰",
                section2Title: "ï¼’ï¼ä»•äº‹ï¼ˆã—ã”ã¨ï¼‰ã®çµŒé¨“ï¼ˆã‘ã„ã‘ã‚“ï¼‰ãƒ»å¸Œæœ›æ¡ä»¶ï¼ˆãã¼ã†ã˜ã‚‡ã†ã‘ã‚“ï¼‰",
                section3Title: "ï¼“ï¼æ›¸é¡ï¼ˆã—ã‚‡ã‚‹ã„ï¼‰",
                nameLabel: "<span class='furigana'>ãªã¾ãˆ</span><span>åå‰</span>",
                gmailLabel: "<span class='furigana'>Gãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</span><span>Gmail ã‚¢ãƒ‰ãƒ¬ã‚¹</span>",
                nationalityLabel: "<span class='furigana'>ã‚ãªãŸã®ãã«ã‚’ãŠã—ãˆã¦ãã ã•ã„</span><span>ã‚ãªãŸã®å›½ã‚’ãŠã—ãˆã¦ãã ã•ã„</span>",
                contactLabel: "<span class='furigana'>ã‚Œã‚“ã‚‰ãã•ã</span><span>é€£çµ¡å…ˆ</span>",
                dobLabel: "<span class='furigana'>ã›ã„ã­ã‚“ãŒã£ã´</span><span>ç”Ÿå¹´æœˆæ—¥</span>",
                genderLabel: "<span class='furigana'>ã›ã„ã¹ã¤</span><span>æ€§åˆ¥</span>",
                genderMale: "ç”·ï¼ˆãŠã¨ã“ï¼‰",
                genderFemale: "å¥³ï¼ˆãŠã‚“ãªï¼‰",
                maritalStatusLabel: "<span class='furigana'>ã¯ã„ãã†ã—ã‚ƒã®ã†ã‚€</span><span>é…å¶è€…ã®æœ‰ç„¡</span>",
                familyInJapanLabel: "<span class='furigana'>ã«ã»ã‚“ã«ã‹ãããƒ»ã—ã‚“ããã®ã†ã‚€</span><span>æ—¥æœ¬ã«å®¶æ—ãƒ»è¦ªæ—ãŒã„ã‚‹ã‹</span>",
                nativeAddressLabel: "<span class='furigana'>ãã«ã®ã˜ã‚…ã†ã—ã‚‡</span><span>å›½ã®ä½æ‰€</span>",
                currentAddressLabel: "<span class='furigana'>ã„ã¾ã™ã‚“ã§ã„ã‚‹ã˜ã‚…ã†ã—ã‚‡</span><span>ä»Šã™ã‚“ã§ã„ã‚‹ ä½æ‰€</span>",
                workHistoryTitle: "æ—¥æœ¬ï¼ˆã«ã»ã‚“ï¼‰ã§ã®ä»•äº‹ï¼ˆã—ã”ã¨ï¼‰ã®çµŒé¨“ï¼ˆã‘ã„ã‘ã‚“ï¼‰",
                workHistoryNote: "å…¨ï¼ˆã™ã¹ï¼‰ã¦ æ›¸ï¼ˆã‹ï¼‰ã„ã¦ãã ã•ã„",
                addWorkHistory: "è·æ­´ï¼ˆã—ã‚‡ãã‚Œãï¼‰ã‚’è¿½åŠ ï¼ˆã¤ã„ã‹ï¼‰",
                desiredJobLabel: "<span class='furigana'>ãã¼ã†ã®ã—ã”ã¨</span><span>å¸Œæœ›ã®ã—ã”ã¨</span>",
                desiredStartLabel: "<span class='furigana'>ã‚ãŸã‚‰ã—ã„ã‹ã„ã—ã‚ƒã§ã—ã”ã¨ã‚’ã¯ã˜ã‚ãŸã„ã²</span><span>æ–°ã—ã„ä¼šç¤¾ã§ä»•äº‹ã‚’å§‹ã‚ãŸã„æ—¥</span>",
                jobCaregiving: "ä»‹è­·æ¥­ï¼ˆã‹ã„ã”ãã‚‡ã†ï¼‰",
                jobBuildingCleaning: "ãƒ“ãƒ«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ¥­ï¼ˆãã‚‡ã†ï¼‰",
                jobIndustrialProduct: "å·¥æ¥­è£½å“è£½é€ æ¥­ï¼ˆã“ã†ãã‚‡ã†ã›ã„ã²ã‚“ã›ã„ãã†ãã‚‡ã†ï¼‰",
                jobConstruction: "å»ºè¨­æ¥­ï¼ˆã‘ã‚“ã›ã¤ãã‚‡ã†ï¼‰",
                jobShipbuilding: "é€ èˆ¹ï¼ˆãã†ã›ã‚“ï¼‰ãƒ»èˆ¶ç”¨å·¥æ¥­ï¼ˆã¯ãã‚ˆã†ã“ã†ãã‚‡ã†ï¼‰",
                jobAutomotive: "è‡ªå‹•è»Šæ•´å‚™æ¥­ï¼ˆã˜ã©ã†ã—ã‚ƒã›ã„ã³ãã‚‡ã†ï¼‰",
                jobAviation: "èˆªç©ºæ¥­ï¼ˆã“ã†ãã†ãã‚‡ã†ï¼‰",
                jobHospitality: "å®¿æ³Šæ¥­ï¼ˆã—ã‚…ãã¯ããã‚‡ã†ï¼‰",
                jobAgriculture: "è¾²æ¥­ï¼ˆã®ã†ãã‚‡ã†ï¼‰",
                jobFisheries: "æ¼æ¥­ï¼ˆãã‚‡ãã‚‡ã†ï¼‰",
                jobFoodManufacturing: "é£²é£Ÿæ–™å“è£½é€ æ¥­ï¼ˆã„ã‚“ã—ã‚‡ãã‚Šã‚‡ã†ã²ã‚“ã›ã„ãã†ãã‚‡ã†ï¼‰",
                jobFoodService: "å¤–é£Ÿæ¥­ï¼ˆãŒã„ã—ã‚‡ããã‚‡ã†ï¼‰",
                jobForestry: "æ—æ¥­ï¼ˆã‚Šã‚“ãã‚‡ã†ï¼‰",
                jobWood: "æœ¨æç”£æ¥­ï¼ˆã‚‚ãã–ã„ã•ã‚“ãã‚‡ã†ï¼‰",
                jobAutomotiveTransport: "è‡ªå‹•è»Šé‹é€æ¥­ï¼ˆã˜ã©ã†ã—ã‚ƒã†ã‚“ãã†ãã‚‡ã†ï¼‰",
                jobRailway: "é‰„é“ï¼ˆã¦ã¤ã©ã†ï¼‰",
                startOption: (months) => `${months}ã‹æœˆå¾Œï¼ˆã‹ã’ã¤ã”ï¼‰`,
                documentNote: "â€»ç¾åœ¨ï¼ˆã’ã‚“ã–ã„ï¼‰ãŠæŒï¼ˆã‚‚ï¼‰ã¡ã®æ›¸é¡ï¼ˆã—ã‚‡ã‚‹ã„ï¼‰ã®ã¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚",
                documentDetails: "<strong>æ·»ä»˜ï¼ˆã¦ã‚“ã·ï¼‰ã§ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«</strong><br><strong>é¡”å†™çœŸï¼ˆã‹ãŠã˜ã‚ƒã—ã‚“ï¼‰:</strong> JPEG, PNGãªã©ã®ç”»åƒï¼ˆãŒãã†ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«<br><strong>å±¥æ­´æ›¸ï¼ˆã‚Šã‚Œãã—ã‚‡ï¼‰:</strong> PDF, Wordãƒ•ã‚¡ã‚¤ãƒ« (.doc, .docx)<br><strong>ãã®ä»–ï¼ˆãŸï¼‰ã®æ›¸é¡ï¼ˆã—ã‚‡ã‚‹ã„ï¼‰:</strong> JPEG, PNGãªã©ã®ç”»åƒï¼ˆãŒãã†ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã¨PDFãƒ•ã‚¡ã‚¤ãƒ«",
                docOtherNote: "ã»ã‹ã«ã€å‡ºï¼ˆã ï¼‰ã—ãŸã„æ›¸é¡ï¼ˆã—ã‚‡ã‚‹ã„ï¼‰ãŒã‚ã‚‹å ´åˆï¼ˆã°ã‚ã„ï¼‰ã¯ã€ãã®ã»ã‹ã®æ›¸é¡ï¼ˆã—ã‚‡ã‚‹ã„ï¼‰ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚",
                docPhoto: "1. é¡”å†™çœŸ",
                docPassport: "2. ãƒ‘ã‚¹ãƒãƒ¼ãƒˆã®ã‚³ãƒ”ãƒ¼",
                docResidenceCard: "3. åœ¨ç•™ã‚«ãƒ¼ãƒ‰ã®ã‚³ãƒ”ãƒ¼",
                docResume: "4. å±¥æ­´æ›¸",
                docTokuteiGino: "5. ç‰¹å®šæŠ€èƒ½åˆæ ¼è¨¼",
                docMedical: "6. å¥åº·è¨ºæ–­æ›¸",
                docGensenChoshu: "7. æºæ³‰å¾´åç¥¨",
                docOther1: "8. ãã®ä»–ã®æ›¸é¡ 1",
                docOther2: "9. ãã®ä»–ã®æ›¸é¡ 2",
                docOther3: "10. ãã®ä»–ã®æ›¸é¡ 3",
                submitButton: "é€ä¿¡ï¼ˆãã†ã—ã‚“ï¼‰ã™ã‚‹",
                selectOption: "é¸ï¼ˆãˆã‚‰ï¼‰ã‚“ã§ãã ã•ã„",
                nationalityIndonesia: "ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢",
                nationalityCambodia: "ã‚«ãƒ³ãƒœã‚¸ã‚¢",
                nationalityVietnam: "ãƒ™ãƒˆãƒŠãƒ ",
                nationalityMyanmar: "ãƒŸãƒ£ãƒ³ãƒãƒ¼",
                nationalityNepal: "ãƒãƒ‘ãƒ¼ãƒ«",
                nationalityOther: "ã“ã“ã«ã¯ãªã„",
                statusYes: "ã‚ã‚Š",
                statusNo: "ãªã—",
                fileStatusUnselected: "é¸æŠï¼ˆã›ã‚“ãŸãï¼‰ã•ã‚Œã¦ã„ã¾ã›ã‚“",
                fileStatusSelected: "é¸æŠæ¸ˆï¼ˆã›ã‚“ãŸããšï¼‰ã¿",
            },
            en: {
                formTitle: "Foreigner Job Application Form",
                formSubtitle: "This form is for those who wish to find a job in Japan.",
                inputNote: "â€»The content can be written in your native language or in Roman letters if writing in Japanese is difficult.",
                section1Title: "1. Basic Information",
                section2Title: "2. Work History & Desired Conditions",
                section3Title: "3. Attached Documents",
                nameLabel: "Name",
                gmailLabel: "Gmail address",
                nationalityLabel: "Nationality",
                contactLabel: "Contact Information",
                dobLabel: "Date of Birth",
                genderLabel: "Gender",
                genderMale: "Male",
                genderFemale: "Female",
                maritalStatusLabel: "Marital Status",
                familyInJapanLabel: "Do you have family or relatives in Japan?",
                nativeAddressLabel: "Country address",
                currentAddressLabel: "Current address",
                workHistoryTitle: "Work History in Japan",
                workHistoryNote: "Please write down all of your work history",
                addWorkHistory: "Add Work History",
                desiredJobLabel: "Desired Job Category",
                desiredStartLabel: "Desired Start Time",
                jobCaregiving: "Caregiving",
                jobBuildingCleaning: "Building Cleaning",
                jobIndustrialProduct: "Industrial Product Manufacturing",
                jobConstruction: "Construction",
                jobShipbuilding: "Shipbuilding & Marine Industry",
                jobAutomotive: "Automobile Maintenance",
                jobAviation: "Aviation",
                jobHospitality: "Accommodation",
                jobAgriculture: "Agriculture",
                jobFisheries: "Fisheries & Aquaculture",
                jobFoodManufacturing: "Food & Beverage Manufacturing",
                jobFoodService: "Food Service Industry",
                jobForestry: "Forestry",
                jobWood: "Wood Industry",
                jobAutomotiveTransport: "Automotive Transport Industry",
                jobRailway: "Railway",
                startOption: (months) => `${months} months later`,
                documentNote: "â€»Please upload only the documents you currently possess.",
                documentDetails: "<strong>Acceptable Files</strong><br><strong>Photo:</strong> Image files (JPEG, PNG)<br><strong>Resume (CV):</strong> PDF, Word files (.doc, .docx)<br><strong>Other Documents:</strong> Image files (JPEG, PNG) and PDF files",
                docOtherNote: "If you have other documents to submit, please upload them here.",
                docPhoto: "1. ID photo",
                docPassport: "2. Passport copy",
                docResidenceCard: "3. Residence card copy",
                docResume: "4. Resume",
                docTokuteiGino: "5. Specified Skilled Worker Certificate",
                docMedical: "6. Medical Certificate",
                docGensenChoshu: "7. Withholding Tax Slip",
                docOther1: "8. Other Document 1",
                docOther2: "9. Other Document 2",
                docOther3: "10. Other Document 3",
                submitButton: "Submit",
                selectOption: "Please select",
                nationalityIndonesia: "Indonesia",
                nationalityCambodia: "Cambodia",
                nationalityVietnam: "Vietnam",
                nationalityMyanmar: "Myanmar",
                nationalityNepal: "Nepal",
                nationalityOther: "Other",
                statusYes: "Yes",
                statusNo: "No",
                fileStatusUnselected: "No file selected",
                fileStatusSelected: "File selected",
            }
        };

        // Function to switch language
        function switchLanguage(lang) {
            const content = langContent[lang];
            if (!content) return;

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (content[key] && typeof content[key] === 'string') {
                    element.innerHTML = content[key];
                }
            });

            const placeholders = {
                ja: { 
                    "name": "å±±ç”° å¤ªéƒ", 
                    "contact-info": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå ã¾ãŸã¯ ID",
                    "native-address": "è¨˜å…¥ä¾‹ï¼šã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢ ãƒãƒ«ãƒœãƒ³",
                    "current-address": "è¨˜å…¥ä¾‹ï¼šæ±äº¬éƒ½æ–°å®¿åŒºè¥¿æ–°å®¿1-1-1 ã€‡ã€‡ãƒãƒ³ã‚·ãƒ§ãƒ³101å·"
                },
                en: { 
                    "name": "John Doe", 
                    "contact-info": "Account name or ID",
                    "native-address": "Example: Indonesia Cirebon",
                    "current-address": "Example: Tokyo-to, Shinjuku-ku, Nishi-Shinjuku 1-1-1 â—‹â—‹ Mansion Room 101"
                }
            };
            const currentPlaceholders = placeholders[lang] || {};
            for (const id in currentPlaceholders) {
                const input = document.getElementById(id);
                if (input) input.placeholder = currentPlaceholders[id];
            }

            const desiredStartSelect = document.getElementById('desired-start');
            desiredStartSelect.querySelectorAll('option[data-i18n-text]').forEach(option => {
                const key = option.getAttribute('data-i18n-text');
                const args = JSON.parse(option.getAttribute('data-i18n-args'));
                if (typeof content[key] === 'function') {
                    option.textContent = content[key](...args);
                }
            });

            document.querySelectorAll('.language-switcher button').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
            });
            document.documentElement.lang = lang;
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('job-application-form');
            const languageButtons = document.querySelectorAll('.language-switcher button');
            const fileInputs = document.querySelectorAll('.file-upload-item input[type="file"]');
            const nationalitySelect = document.getElementById('nationality');
            const nationalityOtherInput = document.getElementById('nationality-other-input');
            const workHistoryContainer = document.getElementById('work-history-container');
            const addWorkHistoryBtn = document.getElementById('add-work-history-btn');
            
            // Generate "Desired Start Time" options dynamically
            const desiredStartSelect = document.getElementById('desired-start');
            const months = ["2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];
            months.forEach(month => {
                const option = document.createElement('option');
                option.value = `${month}ã‹æœˆå¾Œ`;
                option.setAttribute('data-i18n-text', 'startOption');
                option.setAttribute('data-i18n-args', `[${month}]`);
                desiredStartSelect.appendChild(option);
            });

            // Initial setup
            switchLanguage('ja');
            addWorkHistoryEntry(); // Add the first work history block

            // Event Listeners
            languageButtons.forEach(button => {
                button.addEventListener('click', () => switchLanguage(button.getAttribute('data-lang')));
            });

            nationalitySelect.addEventListener('change', (e) => {
                nationalityOtherInput.classList.toggle('hidden', e.target.value !== 'ãã®ä»–');
            });

            addWorkHistoryBtn.addEventListener('click', addWorkHistoryEntry);

            function addWorkHistoryEntry() {
                const entryCount = workHistoryContainer.querySelectorAll('.work-history-entry').length;
                const template = document.getElementById('work-history-template');
                const newEntryFragment = template.content.cloneNode(true);
                const newEntry = newEntryFragment.firstElementChild; // Get the actual div element

                // Update name attributes to be unique
                newEntry.querySelectorAll('[name]').forEach(input => {
                    const originalName = input.getAttribute('name');
                    input.setAttribute('name', `work_history[${entryCount}][${originalName}]`);
                });

                // Set placeholder based on current language
                const currentLang = document.documentElement.lang || 'ja';
                const jobPlaceholder = currentLang === 'ja' 
                    ? "è¨˜å…¥ä¾‹ï¼šå»ºè¨­æ¥­ï¼ˆæŠ€èƒ½å®Ÿç¿’ç”Ÿï¼‰" 
                    : "Example: Construction industry (Technical Intern Trainee)";
                newEntry.querySelector('[name*="[job_description]"]').placeholder = jobPlaceholder;

                // Remove the delete button for the first entry
                if (entryCount === 0) {
                    const firstRemoveBtn = newEntry.querySelector('.remove-work-history-btn');
                    if (firstRemoveBtn) {
                        firstRemoveBtn.remove();
                    }
                }
                
                // Add event listener to the remove button
                const removeBtn = newEntry.querySelector('.remove-work-history-btn');
                if (removeBtn) {
                    removeBtn.addEventListener('click', (e) => {
                        e.target.closest('.work-history-entry').remove();
                    });
                }

                workHistoryContainer.appendChild(newEntry);
            }

            fileInputs.forEach(input => {
                input.addEventListener('change', (e) => {
                    const statusSpan = e.target.closest('label').querySelector('.file-status');
                    const uploadItem = e.target.closest('.file-upload-item');
                    const currentLang = document.documentElement.lang;
                    
                    if (e.target.files.length > 0) {
                        statusSpan.textContent = langContent[currentLang].fileStatusSelected;
                        statusSpan.style.color = '#10b981';
                        uploadItem.classList.add('selected');
                    } else {
                        statusSpan.textContent = langContent[currentLang].fileStatusUnselected;
                        statusSpan.style.color = '#9ca3af';
                        uploadItem.classList.remove('selected');
                    }
                });
            });
        });
    </script>
</body>
</html>
